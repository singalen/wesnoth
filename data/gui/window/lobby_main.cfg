#textdomain wesnoth-lib
###
### Definition of the lobby screen
###

{./lobby_main/tiny_defines.cfg}
{./lobby_main/default_defines.cfg}


#define _GUI_PLAYER_TREE_AREA
	[row]
		grow_factor = 1

		[column]
			border = "all"
			border_size = 5
			vertical_grow = true
			horizontal_grow = true

			[tree_view]
				id = "player_tree"
				definition = "default"

				horizontal_scrollbar_mode = "never"
				vertical_scrollbar_mode = "auto"

				# TODO: use 25?
				#indentation_step_size = 25
				indentation_step_size = 0

				[node]
					id = "player_group"
					[node_definition]

						[row]

							[column]
								grow_factor = 0

								[toggle_button]
									id = "tree_view_node_toggle"
									definition = "tree_view_node"
								[/toggle_button]

							[/column]

							[column]
								grow_factor = 1
								horizontal_grow = true
								border = "top,bottom,right"
								border_size = 5

								[label]
									id = "tree_view_node_label"
									definition = "default_small"
									label = "group"
								[/label]

							[/column]

							[column]
								grow_factor = 0
								horizontal_grow = true
								border = "top,bottom,right"
								border_size = 5

								[label]
									id = "player_count"
									definition = "default_small"
									label = "group"
								[/label]

							[/column]

						[/row]

					[/node_definition]

				[/node]

				[node]
					id = "player"
					[node_definition]

						return_value_id = "ok"
						[row]

							[column]
								horizontal_grow = true

								[toggle_panel]
									id = "tree_view_node_label"
									definition = "default"

									[grid]

										[row]

											[column]
												border = "all"
												border_size = 5
												vertical_alignment = "center"

												[image]
													id = "icon"
													definition = "default"
												[/image]

											[/column]

											[column]
												grow_factor = 1
												horizontal_grow = true

												border = "all"
												border_size = 5

												[label]
													id = "name"
													definition = "default"
												[/label]

											[/column]

										[/row]

									[/grid]

								[/toggle_panel]

							[/column]

						[/row]

					[/node_definition]

				[/node]

			[/tree_view]

		[/column]

	[/row]
#enddef

#define _GUI_CONTROL_AREA
	[grid]
		[row]
			[column]
				border = "all"
				border_size = 5
				horizontal_grow = true
				[button]
					id = "quit"
					definition = "large"
					label = _ "Log Out"
				[/button]
			[/column]
		[/row]
		[row]
			[column]
				horizontal_grow = true
				[grid]

					[row]

						[column]
							border = "all"
							border_size = 5
							[button]
								id = "create"
								definition = "large"
								label = _ "Create Game"
							[/button]
						[/column]

						[column]
							border = "all"
							border_size = 5
							[button]
								id = "show_preferences"
								definition = "large"
								label = _ "Preferences"
							[/button]
						[/column]

					[/row]

					[row]
						[column]
							border = "all"
							border_size = 5
							[button]
								id = "join_global"
								definition = "large"
								label = _ "Join"
							[/button]
						[/column]

						[column]
							border = "all"
							border_size = 5
							[button]
								id = "observe_global"
								definition = "large"
								label = _ "Observe"
							[/button]
						[/column]
					[/row]
				[/grid]
			[/column]
		[/row]

		[row]
			[column]
				border = "all"
				border_size = 5
				horizontal_grow = true

				[menu_button]
					id = "replay_options"
					definition = "default"

					[option]
						label = _ "Normal Replays"
					[/option]

					[option]
						label = _ "Quick Replays"
						tooltip = _ "Skip quickly to the active turn when observing"
					[/option]

					[option]
						label = _ "Enter Blindfolded"
						tooltip = _ "Do not show the map until given control of a side"
					[/option]
				[/menu_button]
			[/column]

		[/row]

		#{GUI_HORIZONTAL_SPACER_LINE}

		{_GUI_PLAYER_TREE_AREA}

	[/grid]
#enddef

[window]
	id = "mp_lobby"
	description = "Lobby screen."

	{./lobby_main/568x320_resolution.cfg}
	{./lobby_main/667x375_resolution.cfg}
	{./lobby_main/800x600_resolution.cfg}
	{./lobby_main/1000x600_resolution.cfg}

[/window]

#undef _GUI_CONTROL_AREA
#undef _GUI_FILTER_AREA
#undef _GUI_FILTER_AREA_TINY
#undef _GUI_GAME_LIST
#undef _GUI_GAME_LIST_667
#undef _GUI_GAME_LIST_568
#undef _GUI_PLAYER_TREE_AREA
