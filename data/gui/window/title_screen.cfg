#textdomain wesnoth-lib
###
### Definition of the main screen for Wesnoth.
###

#define _GUI_BG_RATIO
(
    min(bg_hratio, bg_wratio)
where
	bg_hratio = height * 1.0 / image_original_height,
	bg_wratio = width * 1.0 / image_original_width
)
#enddef

#define _GUI_BG_Y
    ((height - image_height)/2)
#enddef

#define _GUI_BG_X
    ((width - image_width)/2)
#enddef

[window_definition]

	id = "title_screen"
	description = "The window definition for the title screen."

	[resolution]

		[background]

			[draw]

				[image]
					w = "(width)"
					h = "(height)"
					x = 0
					y = 0
					name = "(background_image)"
				[/image]

				[image]
					w = "(round(image_original_width * {_GUI_BG_RATIO}))"
					h = "(round(image_original_height * {_GUI_BG_RATIO}))"
					x = "(max(0, {_GUI_BG_X}))"
					y = "(max(0, {_GUI_BG_Y}))"
					name = "(title_image)"
				[/image]

			[/draw]

		[/background]

		[foreground]

			[draw]

			[/draw]

		[/foreground]

	[/resolution]

[/window_definition]
#undef _GUI_BG_RATIO
#undef _GUI_BG_Y
#undef _GUI_BG_X

#define _GUI_H_SPACER WIDTH GROW_FACTOR
	[column]

		grow_factor = "{GROW_FACTOR}"

		[spacer]
			definition = "default"
			width = "{WIDTH}"
		[/spacer]

	[/column]
#enddef

#define _GUI_V_SPACER HEIGHT
	[column]

		[spacer]
			definition = "default"
			height = {HEIGHT}
		[/spacer]

	[/column]
#enddef

#define _GUI_TIP_SECTION
	[panel]
		definition = "box_display"

		[grid]

			[row]

				[column]

					[multi_page]
						id = "tips"
						definition = "default"

						[page_definition]

							[row]
								grow_factor = 1

								[column]
									border = "all"
									border_size = 5
									horizontal_grow = true
									vertical_grow = true

									[label]
										id = "tip"
										definition = "title_screen_tip"

										wrap = true
									[/label]

								[/column]

							[/row]

							[row]

								[column]
									border = "all"
									border_size = 5
									horizontal_grow = true

									[label]
										id = "source"
										definition = "title_screen_tip"

										text_alignment = "right"
										wrap = true
									[/label]

								[/column]

							[/row]

						[/page_definition]

					[/multi_page]

				[/column]

			[/row]

			[row]

				[column]
					horizontal_grow = true

					[grid]

						[row]

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "left"

								[button]
									id = "help"
									definition = "default"

									label = _ "Help"
									tooltip = _"Show Battle for Wesnoth help"
								[/button]

							[/column]

							[column]
								border = "all"
								border_size = 5
								grow_factor = 1
								horizontal_alignment = "right"

								[button]
									id = "previous_tip"
									definition = "default"

									label = _ "Previous"
									tooltip = _"Show previous tip of the day"
								[/button]

							[/column]

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "right"

								[button]
									id = "next_tip"
									definition = "default"

									label = _ "Next"
									tooltip = _"Show next tip of the day"
								[/button]

							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]

		[/grid]

	[/panel]
#enddef


#define _GUI_BUTTON ID CAPTION TOOLTIP
	[row]

		[column]
			border = "all"
			border_size = 5
			horizontal_grow = true
			[button]
				id = {ID}
				definition = "large"

				label = {CAPTION}
				tooltip = {TOOLTIP}
			[/button]

		[/column]

	[/row]

#enddef

#define _GUI_MENU_SECTION_TINY
    [panel]
        definition = "box_display"

        [grid]
            {_GUI_BUTTON "tutorial" _"Tutorial" _"Start a tutorial to familiarize yourself with the game"}
            {_GUI_BUTTON "campaign" _"Campaigns" _"Start a new single player campaign"}
			{_GUI_BUTTON "multiplayer" _"Multiplayer" _"Play multiplayer (hotseat, LAN, or Internet), or a single scenario against the AI"}
			{_GUI_BUTTON "load" _"Load" _"Load a saved game"}
			{_GUI_BUTTON "addons" _"Add-ons" _"Download usermade campaigns, eras, or map packs"}
            {_GUI_BUTTON "cores" _"Cores" _"Select the game core data"}
            # //TODO: Move this to preferences {_GUI_BUTTON "language" _"Language" _"Change the language"}
			{_GUI_BUTTON "language" _"Language" _"Change the language"}
			# //TODO: Move this to preferences {_GUI_BUTTON "credits" _"Credits" _"View the credits"}
            # This debug feature doesn't need to be translated.
            {_GUI_BUTTON "clock" "Clock" "Show debug clock"}
        [/grid]

    [/panel]
#enddef

#define _GUI_MENU_SECTION_SMALL
    [panel]
        definition = "box_display"

        [grid]
            {_GUI_BUTTON "tutorial" _"Tutorial" _"Start a tutorial to familiarize yourself with the game"}
            {_GUI_BUTTON "campaign" _"Campaigns" _"Start a new single player campaign"}
			{_GUI_BUTTON "multiplayer" _"Multiplayer" _"Play multiplayer (hotseat, LAN, or Internet), or a single scenario against the AI"}
			{_GUI_BUTTON "load" _"Load" _"Load a saved game"}
			{_GUI_BUTTON "addons" _"Add-ons" _"Download usermade campaigns, eras, or map packs"}
            {_GUI_BUTTON "cores" _"Cores" _"Select the game core data"}
            # //TODO: Move this to preferences {_GUI_BUTTON "language" _"Language" _"Change the language"}
			{_GUI_BUTTON "language" _"Language" _"Change the language"}
			{_GUI_BUTTON "preferences" _"Preferences" _"Configure the game’s settings"}
			# //TODO: Move this to preferences {_GUI_BUTTON "credits" _"Credits" _"View the credits"}
            # This debug feature doesn't need to be translated.
            {_GUI_BUTTON "clock" "Clock" "Show debug clock"}
        [/grid]

    [/panel]
#enddef

#define _GUI_MENU_SECTION
	[panel]
		definition = "box_display"

		[grid]
			{_GUI_BUTTON "tutorial" _"Tutorial" _"Start a tutorial to familiarize yourself with the game"}
			{_GUI_BUTTON "campaign" _"Campaigns" _"Start a new single player campaign"}
			{_GUI_BUTTON "multiplayer" _"Multiplayer" _"Play multiplayer (hotseat, LAN, or Internet), or a single scenario against the AI"}
			{_GUI_BUTTON "load" _"Load" _"Load a saved game"}
			{_GUI_BUTTON "addons" _"Add-ons" _"Download usermade campaigns, eras, or map packs"}
			{_GUI_BUTTON "cores" _"Cores" _"Select the game core data"}
#ifndef IPHONEOS
			{_GUI_BUTTON "editor" _"Map Editor" _"Start the map editor"}
#endif
			{_GUI_BUTTON "language" _"Language" _"Change the language"}
			{_GUI_BUTTON "preferences" _"Preferences" _"Configure the game’s settings"}
			{_GUI_BUTTON "credits" _"Credits" _"View the credits"}
#ifndef IPHONEOS
			{_GUI_BUTTON "quit" _"Quit" _"Quit the game"}
#endif
			# This debug feature doesn't need to be translated.
			{_GUI_BUTTON "clock" "Clock" "Show debug clock"}
		[/grid]

	[/panel]
#enddef

[window]
	id = "title_screen"
	description = "The game's main menu."

	{./title_screen/568x320_resolution.cfg}
	{./title_screen/667x375_resolution.cfg}
	{./title_screen/800x600_resolution.cfg}

[/window]

#undef _GUI_TIP_SECTION
#undef _GUI_MENU_SECTION_TINY
#undef _GUI_MENU_SECTION_SMALL
#undef _GUI_MENU_SECTION
#undef _GUI_BUTTON
#undef _GUI_H_SPACER
#undef _GUI_V_SPACER
